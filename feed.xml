<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.0.0">Jekyll</generator><link href="https://maxbalashov.github.io/ml-notes/feed.xml" rel="self" type="application/atom+xml" /><link href="https://maxbalashov.github.io/ml-notes/" rel="alternate" type="text/html" /><updated>2020-05-24T14:38:40-05:00</updated><id>https://maxbalashov.github.io/ml-notes/feed.xml</id><title type="html">ML Notes</title><entry><title type="html">Golang Notes</title><link href="https://maxbalashov.github.io/ml-notes/markdown/programming/2020/05/24/Golang-notes.html" rel="alternate" type="text/html" title="Golang Notes" /><published>2020-05-24T00:00:00-05:00</published><updated>2020-05-24T00:00:00-05:00</updated><id>https://maxbalashov.github.io/ml-notes/markdown/programming/2020/05/24/Golang-notes</id><content type="html" xml:base="https://maxbalashov.github.io/ml-notes/markdown/programming/2020/05/24/Golang-notes.html">&lt;p&gt;&lt;img src=&quot;/ml-notes/images/gopher.jpg&quot; alt=&quot;&quot; title=&quot;Gopher - a mascot of Golang&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;объявление-переменных&quot;&gt;Объявление переменных&lt;/h1&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// краткое объявление переменной (наиболее компактное)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// может использоваться только внутри функции,&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// но не для переменных уровня пакета&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// инициализация по умолчанию&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// для строки — значением &quot;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// используется редко&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// в основном при объявлении несколь­ких переменных&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// содержит явное указание типа перемен­ной&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// является излишним, когда тип совпадает с типом начального значения переменной,&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// но является обязательным в других случаях, когда типы пере­менной и инициализатора разные&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;На практике обычно следует использовать одну из первых двух разновидностей:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;с явной инициализацией (чтобы указать важность начального значения);&lt;/li&gt;
  &lt;li&gt;с неявной инициализацией по умолчанию (чтобы указать, что начальное значение не играет роли).&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;цикл-for&quot;&gt;Цикл &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt;&lt;/h1&gt;
&lt;p&gt;Цикл &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; является единственной инструкцией цикла в Go. Он имеет ряд разно­видностей.&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Традиционный цикл `for`&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;инициализация&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;условие&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;последеи&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;̆&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ствие&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// нуль или несколько инструкций&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Традиционный цикл `while`&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;condition&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Традиционный бесконечный цикл&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Бесконечный цикл, должен завершиться некоторым иным пу­тем, например с помощью инструкции &lt;code class=&quot;highlighter-rouge&quot;&gt;break&lt;/code&gt; или &lt;code class=&quot;highlighter-rouge&quot;&gt;return&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Разновидность цикла &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; выполняет итерации для диапазона значений для типа данных наподобие &lt;em&gt;строки&lt;/em&gt; или &lt;em&gt;среза&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;someSlice&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Если мы не нуждаемся в индексе, то его можно заменить на &lt;em&gt;пустой идентификатор&lt;/em&gt; (blank identifier) с именем &lt;code class=&quot;highlighter-rouge&quot;&gt;_&lt;/code&gt; (символ подчеркивания). Пустой идентификатор может использоваться вез­де, где синтаксис требует имя переменной, но логике программы он не нужен.&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;someSlice&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;if-с-краткой-инструкцией&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt; с краткой инструкцией&lt;/h1&gt;
&lt;p&gt;Так же как и &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt;, оператор &lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt; может начинаться с инструкции, которая будет выполнена перед проверкой условия.&lt;/p&gt;

&lt;p&gt;Переменные объявленные в этом блоке доступны только в области видимости, которая существует до конца &lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Переменные объявленные внутри краткой инструкции if также доступны внутри всех else блоков.&lt;/p&gt;

&lt;p&gt;(Попробуйте использовать &lt;code class=&quot;highlighter-rouge&quot;&gt;v&lt;/code&gt; в последнем операторе &lt;code class=&quot;highlighter-rouge&quot;&gt;return&lt;/code&gt;.)&lt;/p&gt;
&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lim&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float64&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lim&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%g &amp;gt;= %g&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// can't use v here, though&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lim&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;switch&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;switch&lt;/code&gt;&lt;/h1&gt;
&lt;p&gt;Вероятно вы уже догадались, на что будет похож &lt;code class=&quot;highlighter-rouge&quot;&gt;switch&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Блок case прерывается автоматически, только если он не заканчивается оператором &lt;code class=&quot;highlighter-rouge&quot;&gt;fallthrough&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// инициализируем внутри переменную `switch`&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// `swichCondition` существует только в рамках данного `switch` ???&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;swichCondition&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;swichCondition&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Case 1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// выполнит принт согласно условию `swichCondition`&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Case 2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// продолжит проверять последующие условия из-за `fallthrough`&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;fallthrough&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Case default&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;switch-без-условия&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;switch&lt;/code&gt; без условия&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;switch&lt;/code&gt; без условия это тоже самое, что и &lt;code class=&quot;highlighter-rouge&quot;&gt;switch true&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Эта конструкция может быть использована как более ясный способ записи длинной цепочки &lt;code class=&quot;highlighter-rouge&quot;&gt;if-then-else&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;time&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Good morning!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Good afternoon.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Good evening.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;размер-и-вместимость-среза&quot;&gt;Размер и вместимость среза&lt;/h1&gt;
&lt;p&gt;Срез имеет размер (длину) и вместимость.&lt;/p&gt;

&lt;p&gt;Размер среза - это количество элементов, которые он содержит.&lt;/p&gt;

&lt;p&gt;Вместимость среза - это количество элементов в его нижележащем массиве, начиная с первого элемента в срезе.&lt;/p&gt;

&lt;p&gt;Размер и вместимость среза &lt;code class=&quot;highlighter-rouge&quot;&gt;s&lt;/code&gt; могут быть получены с помощью &lt;code class=&quot;highlighter-rouge&quot;&gt;len(s)&lt;/code&gt; и &lt;code class=&quot;highlighter-rouge&quot;&gt;cap(s)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Размер среза может быть увеличен путем повторной операции “срезания”, при условии, что он обладает достаточной вместимостью.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Срезы по верхней границей не меняют вместимость исходного среза. Срезы по нижней границе изменяют исходный срез, уменьшая его вместимость.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// Slice the slice to give it zero length.&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// Extend its length.&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;c&quot;&gt;// Вернем срез к исходному состоянию&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// Drop its first two values.&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// После этой операции вместимость среза `s` уменьшится.&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// Два первых элемента будут удалены из среза&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;c&quot;&gt;// Будет удален еще один элемент&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// Из-за среза по нижней границе&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;len=%d cap=%d %v&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Output:
len=6 cap=6 [2 3 5 7 11 13]
len=0 cap=6 []
len=4 cap=6 [2 3 5 7]
len=6 cap=6 [2 3 5 7 11 13]
len=4 cap=4 [5 7 11 13]
len=2 cap=3 [7 11]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;указатели-на-структуры&quot;&gt;Указатели на структуры&lt;/h1&gt;
&lt;p&gt;Доступ к полям структуры может быть получен через указатель на структуру.&lt;/p&gt;

&lt;p&gt;Чтобы получить поле X структуры, когда у нас есть указатель на структуру p, мы можем написать:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;(*p).X&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;p.X&lt;/code&gt; (без явного разыменования)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Vertex&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;X&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Vertex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1e9&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// {1000000000 2}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry><entry><title type="html">Нейронные сети</title><link href="https://maxbalashov.github.io/ml-notes/jupyter/theory/2020/05/24/Neural-networks.html" rel="alternate" type="text/html" title="Нейронные сети" /><published>2020-05-24T00:00:00-05:00</published><updated>2020-05-24T00:00:00-05:00</updated><id>https://maxbalashov.github.io/ml-notes/jupyter/theory/2020/05/24/Neural-networks</id><content type="html" xml:base="https://maxbalashov.github.io/ml-notes/jupyter/theory/2020/05/24/Neural-networks.html">&lt;!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-05-24-Neural-networks.ipynb
--&gt;

&lt;div class=&quot;container&quot; id=&quot;notebook-container&quot;&gt;
        
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;TL;-DL&quot;&gt;TL; DL&lt;a class=&quot;anchor-link&quot; href=&quot;#TL;-DL&quot;&gt; &lt;/a&gt;&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;#Выбор-функции-ошибки&quot;&gt;Выбор функции ошибки&lt;/a&gt;:&lt;ol&gt;
&lt;li&gt;Кратко;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#Интуитивный-подход&quot;&gt;Интуитивный подход&lt;/a&gt;;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Устройство нейронных сетей;&lt;/li&gt;
&lt;li&gt;Поиск минимума функции ошибки (TODO: ссылка на градиентный спуск);&lt;/li&gt;
&lt;li&gt;Градиентный спуск в нейросетях (Backpropagation):&lt;ol&gt;
&lt;li&gt;градиентный спуск;&lt;/li&gt;
&lt;li&gt;вычислительные графы.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;&amp;#1055;&amp;#1086;&amp;#1089;&amp;#1090;&amp;#1072;&amp;#1085;&amp;#1086;&amp;#1074;&amp;#1082;&amp;#1072;-&amp;#1079;&amp;#1072;&amp;#1076;&amp;#1072;&amp;#1095;&amp;#1080;&quot;&gt;&amp;#1055;&amp;#1086;&amp;#1089;&amp;#1090;&amp;#1072;&amp;#1085;&amp;#1086;&amp;#1074;&amp;#1082;&amp;#1072; &amp;#1079;&amp;#1072;&amp;#1076;&amp;#1072;&amp;#1095;&amp;#1080;&lt;a class=&quot;anchor-link&quot; href=&quot;#&amp;#1055;&amp;#1086;&amp;#1089;&amp;#1090;&amp;#1072;&amp;#1085;&amp;#1086;&amp;#1074;&amp;#1082;&amp;#1072;-&amp;#1079;&amp;#1072;&amp;#1076;&amp;#1072;&amp;#1095;&amp;#1080;&quot;&gt; &lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Главной отличительной особенностью &quot;Обучение с учиталем&quot;(Superwised learning) является наличие обучающей выборки, состоящий из пар $x_i, y_i$, где $x_i$ - признаковое представление объекта, $y_i$ - целевая переменная.
В этой области машинного обучения встают задачи классификации, регрессии и тд.&lt;/p&gt;
&lt;p&gt;Рассмотрим задачу регресии. &lt;code&gt;TODO: рассписать&lt;/code&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;&amp;#1042;&amp;#1099;&amp;#1073;&amp;#1086;&amp;#1088;-&amp;#1092;&amp;#1091;&amp;#1085;&amp;#1082;&amp;#1094;&amp;#1080;&amp;#1080;-&amp;#1086;&amp;#1096;&amp;#1080;&amp;#1073;&amp;#1082;&amp;#1080;&quot;&gt;&amp;#1042;&amp;#1099;&amp;#1073;&amp;#1086;&amp;#1088; &amp;#1092;&amp;#1091;&amp;#1085;&amp;#1082;&amp;#1094;&amp;#1080;&amp;#1080; &amp;#1086;&amp;#1096;&amp;#1080;&amp;#1073;&amp;#1082;&amp;#1080;&lt;a class=&quot;anchor-link&quot; href=&quot;#&amp;#1042;&amp;#1099;&amp;#1073;&amp;#1086;&amp;#1088;-&amp;#1092;&amp;#1091;&amp;#1085;&amp;#1082;&amp;#1094;&amp;#1080;&amp;#1080;-&amp;#1086;&amp;#1096;&amp;#1080;&amp;#1073;&amp;#1082;&amp;#1080;&quot;&gt; &lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;&amp;#1048;&amp;#1085;&amp;#1090;&amp;#1091;&amp;#1080;&amp;#1090;&amp;#1080;&amp;#1074;&amp;#1085;&amp;#1099;&amp;#1081;-&amp;#1087;&amp;#1086;&amp;#1076;&amp;#1093;&amp;#1086;&amp;#1076;&quot;&gt;&amp;#1048;&amp;#1085;&amp;#1090;&amp;#1091;&amp;#1080;&amp;#1090;&amp;#1080;&amp;#1074;&amp;#1085;&amp;#1099;&amp;#1081; &amp;#1087;&amp;#1086;&amp;#1076;&amp;#1093;&amp;#1086;&amp;#1076;&lt;a class=&quot;anchor-link&quot; href=&quot;#&amp;#1048;&amp;#1085;&amp;#1090;&amp;#1091;&amp;#1080;&amp;#1090;&amp;#1080;&amp;#1074;&amp;#1085;&amp;#1099;&amp;#1081;-&amp;#1087;&amp;#1086;&amp;#1076;&amp;#1093;&amp;#1086;&amp;#1076;&quot;&gt; &lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Задача регрессии, если упростить, сводится к тому, чтобы модель, описывающая &quot;скрытую в данных&quot; функциональную зависимость, не ошибалась. (Не учитываем погрешность при измерениях и переобучение)
Модель не ошибается, когда спрогнозированные значения совпадают с реальными (или стремятся к ним).&lt;/p&gt;
&lt;p&gt;Как можно проверить, насколько модель ошибается?
Нужно придумать подходящую &lt;a href=&quot;TODO&quot;&gt;функцию ошибки&lt;/a&gt;.
Например, мы можем измерять разницу между реальным ($y_i$) и прогнозным ($\hat{y_i}$) значением для объекта из обучающей (или валидационной) выборки:&lt;/p&gt;
&lt;p&gt;
$$y_i - \hat{y_i}$$
&lt;/p&gt;
&lt;p&gt;Но измерение ошибки модели в одной контрольной точке $i$ малоинформативно, возьмем сумму ошибок по всей обучаюшей выборке ($N$ - число наблюдений в выборке):

$$\sum_i^N{y_i - \hat{y_i}}$$
&lt;/p&gt;
&lt;p&gt;Вот тут мы и встречаем причину, почему просто &lt;strong&gt;разность в качестве функции ошибки не подходит&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;Ошибки модели на разных примерах из обучающей выборки могут иметь разные знаки, компенсируя друг друга при сложении.&lt;/p&gt;
&lt;p&gt;Пример, пусть существуют две модели A и B, которые имеют следующие ошибки $e_i = y_i - \hat{y_i}$:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;модель&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_1$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_2$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_3$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_4$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$\sum_i^N{e_i}$&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;A&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+3 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;-1 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;-1 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;-1 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;B&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+1&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+2&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+1&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+3&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Получается, что:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Для модели A суммарная ошибка будет равна 0, в то время как суммарная ошибка модели B будет равна 7.&lt;/p&gt;
&lt;p&gt;Исходя из этой логики модель A лучше, чем B.&lt;/p&gt;
&lt;p&gt;Hо это противоречит здравому смыслу, т.к. в каждой точке модель B лучше, т.е. меньше ошибается, чем модель A. ¯\_(ツ)_/¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ключевая проблема в том, что &lt;strong&gt;ошибки с разными знаками компенсируют друг друга&lt;/strong&gt;.
Чтобы исправить этот недостаток, можно сделать такое преобразование над ошибками, которое уберет влияние знака.&lt;/p&gt;
&lt;p&gt;Ниже представленны примеры таких преобразований и формулы суммарной ошибки модели в результате этих преобразований:- $|x|$ (модуль числа):$$\sum_i^N{\lvert e_i \rvert} = \sum_i^N{\lvert y_i - \hat{y_i} \rvert}$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$x^2$ (квадрат числа):

$$\sum_i^N{e_i^2} = \sum_i^N{(y_i - \hat{y_i})^2}$$
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Рассмотрим уже известный пример с добавлением новых функций ошибки:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;модель&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_1$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_2$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_3$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_4$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$\sum_i^N{e_i}$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$\sum_i^N{\lvert e_i \rvert}$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$\sum_i^N{e_i^2}$&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;A&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+3 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;-1 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;-1 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;-1 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;0&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;6 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;12 000 000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;B&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+1&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+2&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+1&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+3&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;7&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;7&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Как можно видеть из таблицы, новые функции ошибки отражают следующий факт, что:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Модель A, которая на каждом наблюдении ошибалась сильнее, также сильнее ошибается в общем по всей выборке.&lt;/p&gt;
&lt;p&gt;Поэтому модель A хуже, чем модель B.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Полезное свойство модуля и возведения в квадрат числа - &lt;strong&gt;функции ошибки теперь ограничены снизу нулем&lt;/strong&gt;, те нуль мы получаем в случае, если модель не ошибается и всегда верно предсказывает значение целевой функции.&lt;/p&gt;
&lt;p&gt;Напоследок, предлагаю перейти от суммарных ошибок, к усредненным по наблюдениям, т.е.:- Средняя абсолютная ошибка или &lt;a href=&quot;https://en.wikipedia.org/wiki/Mean_absolute_error&quot;&gt;MAE&lt;/a&gt; (Mean absolute error):$$\frac{1}{N} \sum_i^N{\lvert y_i - \hat{y_i} \rvert}$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Среднеквадратичная ошибка или &lt;a href=&quot;https://en.wikipedia.org/wiki/Mean_squared_error&quot;&gt;MSE&lt;/a&gt; (Mean squared error):

$$\frac{1}{N} \sum_i^N{(y_i - \hat{y_i})^2}$$
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Пример для наглядности:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;модель&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_1$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_2$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_3$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$e_4$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;$\frac{1}{N}\sum_i^N{e_i}$&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;MAE&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;MSE&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;A&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+3 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;-1 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;-1 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;-1 000&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;0&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;1 500&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;4 000 000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;B&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+1&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+2&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+1&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;+3&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;1.75&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;1.75&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;1.75&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Теперь функция ошибки отображает, как &lt;strong&gt;в среднем ошибается модель&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Также размер значения усредненной функции ошибки не зависит напрямую от количества объектов в выборке. Это &lt;strong&gt;удобно для сравнения полученных ошибок на обучающей, валидационной и тестовой выборках&lt;/strong&gt;. Ведь усреднение нивелирует рост значения функции ошибки из-за увеличения числа объектов, по которым ошибка расчитывается.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;&amp;#1053;&amp;#1077;&amp;#1081;&amp;#1088;&amp;#1086;&amp;#1089;&amp;#1077;&amp;#1090;&amp;#1080;&quot;&gt;&amp;#1053;&amp;#1077;&amp;#1081;&amp;#1088;&amp;#1086;&amp;#1089;&amp;#1077;&amp;#1090;&amp;#1080;&lt;a class=&quot;anchor-link&quot; href=&quot;#&amp;#1053;&amp;#1077;&amp;#1081;&amp;#1088;&amp;#1086;&amp;#1089;&amp;#1077;&amp;#1090;&amp;#1080;&quot;&gt; &lt;/a&gt;&lt;/h2&gt;&lt;p&gt;TODO&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;&amp;#1055;&amp;#1086;&amp;#1080;&amp;#1089;&amp;#1082;-&amp;#1084;&amp;#1080;&amp;#1085;&amp;#1080;&amp;#1084;&amp;#1091;&amp;#1084;&amp;#1072;-&amp;#1092;&amp;#1091;&amp;#1085;&amp;#1082;&amp;#1094;&amp;#1080;&amp;#1080;-&amp;#1086;&amp;#1096;&amp;#1080;&amp;#1073;&amp;#1082;&amp;#1080;&quot;&gt;&amp;#1055;&amp;#1086;&amp;#1080;&amp;#1089;&amp;#1082; &amp;#1084;&amp;#1080;&amp;#1085;&amp;#1080;&amp;#1084;&amp;#1091;&amp;#1084;&amp;#1072; &amp;#1092;&amp;#1091;&amp;#1085;&amp;#1082;&amp;#1094;&amp;#1080;&amp;#1080; &amp;#1086;&amp;#1096;&amp;#1080;&amp;#1073;&amp;#1082;&amp;#1080;&lt;a class=&quot;anchor-link&quot; href=&quot;#&amp;#1055;&amp;#1086;&amp;#1080;&amp;#1089;&amp;#1082;-&amp;#1084;&amp;#1080;&amp;#1085;&amp;#1080;&amp;#1084;&amp;#1091;&amp;#1084;&amp;#1072;-&amp;#1092;&amp;#1091;&amp;#1085;&amp;#1082;&amp;#1094;&amp;#1080;&amp;#1080;-&amp;#1086;&amp;#1096;&amp;#1080;&amp;#1073;&amp;#1082;&amp;#1080;&quot;&gt; &lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Для начала, выберем функцию ошибки для нашей модели - пусть это будет MSE:

$$L(\theta) = \frac{1}{N} \sum_i^N{(y_i - \hat{y_i})^2}$$
&lt;/p&gt;
&lt;p&gt;TODO: почему MSE??? - оптимизация через град спуск&lt;/p&gt;
&lt;p&gt;Повторимся, в упрощенном и интуитивном понимании, для решения задачи регрессии:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Ищем такую модель, которая ошибается как можно меньше, т.е. ее ошибка стремится к минимуму.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Если выразить математически:$$L(\theta) = \frac{1}{N} \sum_i^N{(y_i - \hat{y_i})^2} \rightarrow \min_{\theta}$$&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name></name></author><summary type="html"></summary></entry></feed>